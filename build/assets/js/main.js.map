{"version":3,"sources":["main.js"],"names":["document","addEventListener","accordion","btns","querySelectorAll","itemsSecond","forEach","btn","parentItem","closest","itemSiblings","getSiblings","isActive","classList","contains","content","querySelector","event","target","$","slideToggle","toggle","btnCoords","getCoords","checkSize","window","screen","width","item","remove","carousel","sliders","slider","section","container","nav","sectionContainer","options","arrows","items","length","arr","size","amount","checkAnswer","answer","notUse","i","dots","infinite","draggable","speed","variableWidth","appendArrows","prevArrow","nextArrow","add","autoplay","autoplaySpeed","slick","updateContainerWidth","updatedContainerWidth","getBoundingClientRect","right","setAttribute","declOfNum","number","words","calculator","wrappers","counterWrapper","mainCounterWrapper","mainCostWrapper","topCost","list","title","inputCost","inputPick","tabs","tab","text","textContent","calcAll","mainObj","countersArr","costsArr","makeCalc","wrapperMain","checkboxMain","makeSecondZero","wrapper","checkbox","time","cost","checked","makeSecondChecked","makeThirdZero","makeThirdChecked","checkSecond","counter","checkThird","innerHTML","value","input","dataset","name","addToFooter","array","costArray","NKH","order","moduleNum","calc","mainCounterHours","mainCounterCost","days","counterHaveMain","counterAllMain","arrayMain","arrayCostMain","counterHours","counterCost","counterHoursAlt","counterCostAlt","counterAll","counterHave","arrayCost","costHelp","parseFloat","replace","push","trim","slice","Math","ceil","finalCalc","textarea","ancors","links","link","e","preventDefault","elemData","getAttribute","elem","elemCoords","finalCoords","top","animate","scrollTop","phoneMask","mask","form","getElementById","setTimeout","ask","post","serialize","msg","body","goalParams","order_price","currency","ym","gtag","addFile","span","srcElement","files","popupPhoto","itemsSlider","itemsAccordion","popup","imgPopup","textPopup","img","showPopup","src","showArrow","line","arrow","offsetTop","pageYOffset","jsSeveral","j","style","display","changeColor","checkLine","clientHeight","accordionPopup","screenY","offsetHeight","headerScroll","header","parallax","p","Parallax","init","contentData","btnNumberData","contentNodes","btnSiblings","btnSibling","contentNode","Array","from","children","itemNumberData","isNumberEqual","siblings","sibling","wow","wowInit","WOW","boxClass","animateClass","offset","mobile","live","ESC_CODE","siteContent","footer","isIe11","MSInputMethodContext","documentMode","parentNode","firstChild","nodeType","nextSibling","top_walker","node","test_func","last_parent","box","left","pageXOffset","onPageRdy"],"mappings":";;AAAAA,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,MAAMC,YAAY,SAAZA,SAAY,GAAM;AACtB,QAAMC,OAAOH,SAASI,gBAAT,CAA0B,mBAA1B,CAAb;AAAA,QACMC,cAAcL,SAASI,gBAAT,CAA0B,iBAA1B,CADpB;;AAGAD,SAAKG,OAAL,CAAa,UAACC,GAAD,EAAS;AACpB,UAAMC,aAAaD,IAAIE,OAAJ,CAAY,oBAAZ,CAAnB;;AAEAF,UAAIN,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;AAClC,YAAMS,eAAeC,YAAYH,UAAZ,CAArB;AACA,YAAMI,WAAWJ,WAAWK,SAAX,CAAqBC,QAArB,CAA8B,OAA9B,CAAjB;AAAA,YACMC,UAAUP,WAAWQ,aAAX,CAAyB,qBAAzB,CADhB;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAI,CAACC,MAAMC,MAAN,CAAaT,OAAb,CAAqB,8BAArB,CAAL,EAA2D;AACzDU,YAAEJ,OAAF,EAAWK,WAAX;AACAZ,qBAAWK,SAAX,CAAqBQ,MAArB,CAA4B,OAA5B;AACD;;AAKD;AACA,YAAMC,YAAYC,UAAUhB,GAAV,CAAlB;;AAEA;AACA;AACA;AACA;AACD,OAjCD;;AAmCA,eAASiB,SAAT,GAAsB;;AAEpB,YAAIC,OAAOC,MAAP,CAAcC,KAAd,IAAuB,GAA3B,EAAgC;AAC9BtB,sBAAYC,OAAZ,CAAoB,gBAAQ;AAC1BsB,iBAAKf,SAAL,CAAegB,MAAf,CAAsB,OAAtB;AACAD,iBAAKf,SAAL,CAAegB,MAAf,CAAsB,QAAtB;AACD,WAHD;AAID;AACF;;AAEDJ,aAAOxB,gBAAP,CAAwB,QAAxB,EAAkCuB,SAAlC;;AAEAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAED,KA/DD;AAgED,GApED;;AAwEA,MAAMM,WAAW,SAAXA,QAAW,GAAM;AACrB,QAAMC,UAAU/B,SAASI,gBAAT,CAA0B,cAA1B,CAAhB;;AAEA2B,YAAQzB,OAAR,CAAgB,UAAC0B,MAAD,EAAY;AAC1B,UAAMC,UAAUD,OAAOvB,OAAP,CAAe,sBAAf,CAAhB;AACA,UAAMyB,YAAYD,QAAQjB,aAAR,CAAsB,wBAAtB,CAAlB;AACA,UAAMmB,MAAMF,QAAQjB,aAAR,CAAsB,kBAAtB,CAAZ;AACA,UAAMoB,mBAAmBJ,OAAOvB,OAAP,CAAe,uBAAf,CAAzB;AACA,UAAI4B,gBAAJ;AACA,UAAMC,SAASL,QAAQjB,aAAR,CAAsB,kBAAtB,CAAf;AACA,UAAMuB,QAAQN,QAAQ7B,gBAAR,CAAyB,eAAzB,EAA0CoC,MAAxD;AACA,UAAMC,MAAM,CACV;AACEC,cAAM,GADR;AAEEC,gBAAQ;AAFV,OADU,EAKV;AACED,cAAM,GADR;AAEEC,gBAAQ;AAFV,OALU,EASV;AACED,cAAM,GADR;AAEEC,gBAAQ;AAFV,OATU,EAaV;AACED,cAAM,GADR;AAEEC,gBAAQ;AAFV,OAbU,EAiBV;AACED,cAAM,IADR;AAEEC,gBAAQ;AAFV,OAjBU,EAqBV;AACED,cAAM,IADR;AAEEC,gBAAQ;AAFV,OArBU,EAyBV;AACED,cAAM,IADR;AAEEC,gBAAQ;AAFV,OAzBU,CAAZ;;AA+BA,UAAMC,cAAc,SAAdA,WAAc,GAAM;AACxB,YAAIC,SAAS,OAAb;;AAEAJ,YAAInC,OAAJ,CAAY,UAACwC,MAAD,EAASC,CAAT,EAAe;AACzB,cAAInB,OAAOa,IAAIA,IAAID,MAAJ,GAAaO,CAAb,GAAiB,CAArB,CAAX;;AAEA,cAAItB,OAAOC,MAAP,CAAcC,KAAd,IAAsBC,KAAKc,IAA3B,IAAmCG,WAAW,OAAlD,EAA2D;AACzDA,qBAASjB,KAAKe,MAAL,GAAcJ,KAAvB;AACD;AACF,SAND;;AAQA,YAAI,CAACM,MAAL,EAAa;AACXR,oBAAU;AACRW,kBAAM,KADE;AAERC,sBAAU,KAFF;AAGRC,uBAAW,KAHH;AAIRC,mBAAO,GAJC;AAKRC,2BAAe,IALP;AAMRC,0BAAclC,EAAEgB,GAAF,CANN;AAORmB,uBAAW,kLAPH;AAQRC,uBAAW;AARH,WAAV;;AAWAjB,iBAAOzB,SAAP,CAAiB2C,GAAjB,CAAqB,QAArB;AACD,SAbD,MAcK;AACHnB,oBAAU;AACRW,kBAAM,KADE;AAERC,sBAAU,KAFF;AAGRE,mBAAO,GAHC;AAIRC,2BAAe,IAJP;AAKRC,0BAAclC,EAAEgB,GAAF,CALN;AAMRmB,uBAAW,kLANH;AAORC,uBAAW,kLAPH;AAQRE,sBAAU,KARF;AASRC,2BAAe;AATP,WAAV;;AAYApB,iBAAOzB,SAAP,CAAiBgB,MAAjB,CAAwB,QAAxB;AACD;;AAEDV,UAAEa,MAAF,EAAU2B,KAAV,CAAgBtB,OAAhB;AACD,OA1CD;;AA4CA,UAAMuB,uBAAuB,SAAvBA,oBAAuB,GAAM;AACjC,YAAMC,wBAAwBzB,iBAAiB0B,qBAAjB,GAAyCC,KAAvE;AACA7B,kBAAU8B,YAAV,CAAuB,OAAvB,cAA0CH,qBAA1C;AACD,OAHD;;AAKAD;;AAIAnC,aAAOxB,gBAAP,CAAwB,QAAxB,EAAkC,YAAM;AACtC2D;AACAzC,UAAEa,MAAF,EAAU2B,KAAV,CAAgB,SAAhB;AACAf;AACD,OAJD;;AAMAA;AACD,KAnGD;;AAqGAzB,MAAE,YAAF,EAAgBwC,KAAhB,CAAsB;AACpBV,gBAAU,IADU;AAEpBX,cAAQ,KAFY;AAGpBU,YAAM,IAHc;AAIpBS,gBAAU,IAJU;AAKpBC,qBAAe;AALK,KAAtB;AAOD,GA/GD;;AAiHA,WAASO,SAAT,CAAmBC,MAAnB,EAA2BC,KAA3B,EAAkC;AAChC,WAAOA,MAAOD,SAAS,GAAT,GAAe,CAAf,IAAoBA,SAAS,GAAT,GAAe,EAApC,GAA0C,CAA1C,GAA8C,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAoBA,SAAS,EAAT,GAAc,CAAf,GAAoBA,SAAS,EAA7B,GAAkC,CAArD,CAApD,CAAP;AACD;;AAED,WAASE,UAAT,GAAuB;AACrB,QAAMC,WAAWrE,SAASI,gBAAT,CAA0B,eAA1B,CAAjB;AAAA,QACMkE,iBAAiBtE,SAASgB,aAAT,CAAuB,aAAvB,CADvB;AAAA,QAEMuD,qBAAqBD,eAAetD,aAAf,CAA6B,WAA7B,CAF3B;AAAA,QAGMwD,kBAAkBF,eAAetD,aAAf,CAA6B,UAA7B,CAHxB;AAAA,QAIMyD,UAAUzE,SAASgB,aAAT,CAAuB,cAAvB,CAJhB;AAAA,QAKM0D,OAAO1E,SAASgB,aAAT,CAAuB,eAAvB,CALb;AAAA,QAMM2D,QAAQ3E,SAASgB,aAAT,CAAuB,kBAAvB,CANd;AAAA,QAOM4D,YAAY5E,SAASgB,aAAT,CAAuB,sBAAvB,CAPlB;AAAA,QAQM6D,YAAY7E,SAASgB,aAAT,CAAuB,sBAAvB,CARlB;AAAA,QASM8D,OAAO9E,SAASI,gBAAT,CAA0B,sBAA1B,CATb;;AAWA0E,SAAKxE,OAAL,CAAc,eAAO;AACnB,UAAIC,MAAMwE,IAAI/D,aAAJ,CAAkB,SAAlB,CAAV;AAAA,UACIgE,OAAOD,IAAI/D,aAAJ,CAAkB,UAAlB,CADX;;AAGAT,UAAIN,gBAAJ,CAAqB,OAArB,EAA8B,iBAAS;AACrC,YAAI8E,IAAIlE,SAAJ,CAAcC,QAAd,CAAuB,QAAvB,CAAJ,EAAsC;AACpCiE,cAAIlE,SAAJ,CAAcgB,MAAd,CAAqB,QAArB;AACAmD,eAAKC,WAAL,GAAmB,SAAnB;AACAH,eAAKxE,OAAL,CAAa,UAACsB,IAAD,EAAOmB,CAAP,EAAa;AACxB,gBAAInB,SAASmD,GAAb,EAAkB;AAChBV,uBAAStB,CAAT,EAAYlC,SAAZ,CAAsB2C,GAAtB,CAA0B,UAA1B;AACD;AACF,WAJD;AAKD,SARD,MASK;AACHuB,cAAIlE,SAAJ,CAAc2C,GAAd,CAAkB,QAAlB;AACAwB,eAAKC,WAAL,GAAmB,SAAnB;AACAH,eAAKxE,OAAL,CAAa,UAACsB,IAAD,EAAOmB,CAAP,EAAa;AACxB,gBAAInB,SAASmD,GAAb,EAAkB;AAChBV,uBAAStB,CAAT,EAAYlC,SAAZ,CAAsBgB,MAAtB,CAA6B,UAA7B;AACD;AACF,WAJD;AAKD;;AAEDqD;AACD,OArBD;;AAuBA;AACD,KA5BD;;AA8BA,QAAIC,UAAU;AACRC,mBAAa,EADL;AAERC,gBAAU;AAFF,KAAd;;AAKA,aAASC,QAAT,CAAmBC,WAAnB,EAAgC;AAC9B,UAAMC,eAAeD,YAAYvE,aAAZ,CAA0B,OAA1B,CAArB;;AAEA,eAASyE,cAAT,CAAyBC,OAAzB,EAAkC;AAChC,YAAMC,WAAWD,QAAQ1E,aAAR,CAAsB,OAAtB,CAAjB;AAAA,YACM4E,OAAOF,QAAQ1E,aAAR,CAAsB,UAAtB,CADb;AAAA,YAEM6E,OAAOH,QAAQ1E,aAAR,CAAsB,UAAtB,CAFb;;AAIA2E,iBAASG,OAAT,GAAmB,KAAnB;AACAF,aAAKX,WAAL,GAAmB,CAAnB;AACAY,aAAKZ,WAAL,GAAmB,KAAnB;AACD;;AAED,eAASc,iBAAT,CAA4BL,OAA5B,EAAqC;AACnC,YAAMC,WAAWD,QAAQ1E,aAAR,CAAsB,OAAtB,CAAjB;;AAEA2E,iBAASG,OAAT,GAAmB,IAAnB;AACD;;AAED,eAASE,aAAT,CAAwBN,OAAxB,EAAiC;AAC/B,YAAMC,WAAWD,QAAQ1E,aAAR,CAAsB,OAAtB,CAAjB;;AAEA2E,iBAASG,OAAT,GAAmB,KAAnB;AACD;;AAED,eAASG,gBAAT,CAA2BP,OAA3B,EAAoC;AAClC,YAAMC,WAAWD,QAAQ1E,aAAR,CAAsB,OAAtB,CAAjB;;AAEA2E,iBAASG,OAAT,GAAmB,IAAnB;AACD;;AAED,eAASI,WAAT,GAAwB;AACtB,YAAIC,UAAU,CAAd;;AAEAZ,oBAAYnF,gBAAZ,CAA6B,iBAA7B,EAAgDE,OAAhD,CAAwD,gBAAQ;AAC9D,cAAIsB,KAAKZ,aAAL,CAAmB,OAAnB,EAA4B8E,OAAhC,EAAyC;AACvCK,uBAAW,CAAX;AACD;AACF,SAJD;;AAMA,YAAIA,OAAJ,EAAa;AACXZ,sBAAYvE,aAAZ,CAA0B,OAA1B,EAAmC8E,OAAnC,GAA6C,IAA7C;AACD,SAFD,MAGK;AACHP,sBAAYvE,aAAZ,CAA0B,OAA1B,EAAmC8E,OAAnC,GAA6C,KAA7C;AACD;AAGF;;AAED,eAASM,UAAT,CAAqBV,OAArB,EAA8B;AAC5B,YAAIS,UAAU,CAAd;;AAEAT,gBAAQtF,gBAAR,CAAyB,gBAAzB,EAA2CE,OAA3C,CAAmD,gBAAQ;AACzD,cAAIsB,KAAKZ,aAAL,CAAmB,OAAnB,EAA4B8E,OAAhC,EAAyC;AACvCK,uBAAW,CAAX;AACD;AACF,SAJD;;AAMA,YAAIA,OAAJ,EAAa;AACXT,kBAAQ1E,aAAR,CAAsB,OAAtB,EAA+B8E,OAA/B,GAAyC,IAAzC;AACD,SAFD,MAGK;AACHJ,kBAAQ1E,aAAR,CAAsB,OAAtB,EAA+B8E,OAA/B,GAAyC,KAAzC;AACD;AAGF;;AAEDP,kBAAYnF,gBAAZ,CAA6B,iBAA7B,EAAgDE,OAAhD,CAAwD,mBAAW;AACjEoF,gBAAQ1E,aAAR,CAAsB,OAAtB,EAA+Bf,gBAA/B,CAAgD,QAAhD,EAA0D,YAAY;AACpEyE,eAAK2B,SAAL,GAAiB,EAAjB;AACAxB,oBAAUyB,KAAV,GAAkB,EAAlB;AACA,cAAI,KAAKR,OAAT,EAAkB;AAChBJ,oBAAQtF,gBAAR,CAAyB,gBAAzB,EAA2CE,OAA3C,CAAmD,gBAAQ;AACzD2F,+BAAiBrE,IAAjB;AACD,aAFD;AAGD,WAJD,MAKK;AACH8D,oBAAQtF,gBAAR,CAAyB,gBAAzB,EAA2CE,OAA3C,CAAmD,gBAAQ;AACzD0F,4BAAcpE,IAAd;AACD,aAFD;AAGD;;AAEDsE;AACAhB;AACD,SAhBD;AAiBD,OAlBD;;AAoBAM,mBAAavF,gBAAb,CAA8B,QAA9B,EAAwC,UAAUgB,KAAV,EAAiB;AACvDyD,aAAK2B,SAAL,GAAiB,EAAjB;AACAxB,kBAAUyB,KAAV,GAAkB,EAAlB;;AAEA,YAAI,KAAKR,OAAT,EAAkB;AAChBP,sBAAYnF,gBAAZ,CAA6B,iBAA7B,EAAgDE,OAAhD,CAAwD,gBAAQ;AAC9DyF,8BAAkBnE,IAAlB;AACD,WAFD;;AAIA2D,sBAAYnF,gBAAZ,CAA6B,gBAA7B,EAA+CE,OAA/C,CAAuD,gBAAQ;AAC7D2F,6BAAiBrE,IAAjB;AACD,WAFD;AAGD,SARD,MASK;AACH2D,sBAAYvE,aAAZ,CAA0B,UAA1B,EAAsCiE,WAAtC,GAAoD,QAApD;AACAM,sBAAYvE,aAAZ,CAA0B,WAA1B,EAAuCiE,WAAvC,GAAqD,SAArD;AACAM,sBAAYvE,aAAZ,CAA0B,UAA1B,EAAsCiE,WAAtC,GAAoD,KAApD;;AAEAM,sBAAYnF,gBAAZ,CAA6B,iBAA7B,EAAgDE,OAAhD,CAAwD,gBAAQ;AAC9DmF,2BAAe7D,IAAf;AACD,WAFD;;AAIA2D,sBAAYnF,gBAAZ,CAA6B,gBAA7B,EAA+CE,OAA/C,CAAuD,gBAAQ;AAC7D0F,0BAAcpE,IAAd;AACD,WAFD;AAGD;;AAEDsD;AACD,OA5BD;;AA8BAK,kBAAYnF,gBAAZ,CAA6B,iBAA7B,EAAgDE,OAAhD,CAAwD,mBAAW;AACjEoF,gBAAQtF,gBAAR,CAAyB,gBAAzB,EAA2CE,OAA3C,CAAmD,gBAAQ;AACzD,cAAIiG,QAAQ3E,KAAKZ,aAAL,CAAmB,OAAnB,CAAZ;;AAEAuF,gBAAMtG,gBAAN,CAAuB,QAAvB,EAAiC,iBAAS;AACxC,gBAAI6F,UAAUS,MAAMT,OAApB;AACApB,iBAAK2B,SAAL,GAAiB,EAAjB;AACAxB,sBAAUyB,KAAV,GAAkB,EAAlB;AACA,gBAAIrF,MAAMC,MAAN,CAAaT,OAAb,CAAqB,cAArB,CAAJ,EAA0C;AACxCiF,sBAAQtF,gBAAR,CAAyB,sBAAzB,EAAiDE,OAAjD,CAAyD,gBAAQ;AAC/D,oBAAIsB,KAAK4E,OAAL,CAAaC,IAAb,KAAsBF,MAAMC,OAAN,CAAcC,IAAxC,EAA8C;AAC5C7E,uBAAKkE,OAAL,GAAe,KAAf;AACD;AACF,eAJD;AAKAS,oBAAMT,OAAN,GAAgBA,OAAhB;AACD;;AAED,gBAAI7E,MAAMC,MAAN,CAAaT,OAAb,CAAqB,kBAArB,CAAJ,EAA8C;AAC5CiF,sBAAQtF,gBAAR,CAAyB,sBAAzB,EAAiDE,OAAjD,CAAyD,gBAAQ;AAC/D,oBAAIsB,KAAK4E,OAAL,CAAaC,IAAb,KAAsBF,MAAMC,OAAN,CAAcC,IAAxC,EAA8C;AAC5C7E,uBAAKkE,OAAL,GAAeA,OAAf;AACD;AACF,eAJD;AAKD;;AAEDM,uBAAWV,OAAX;AACAQ;AACAhB;AACD,WAxBD;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,SAvCD;AAyCD,OA1CD;AA2CD;;AAED,aAASwB,WAAT,CAAsBC,KAAtB,EAA6C;AAAA,UAAhBC,SAAgB,uEAAJ,EAAI;;AAC3C,UAAIrE,QAAQmC,KAAKtE,gBAAL,CAAsB,IAAtB,CAAZ;AAAA,UACI4E,OAAOA,KAAK,CAAL,KAAW,QADtB;AAEA2B,YAAMrG,OAAN,CAAc,UAACsB,IAAD,EAAOmB,CAAP,EAAa;AACzB2B,aAAK2B,SAAL,6GAGMzE,IAHN;;AAQAiD,kBAAUyB,KAAV,IAAsB1E,IAAtB,WAAgCgF,UAAU7D,CAAV,CAAhC;AACD,OAVD;;AAYA,UAAI,EAAER,MAAMC,MAAN,KAAiB,CAAjB,IAAsBwC,KAAKC,WAA7B,CAAJ,EAA+C;AAC7CP,aAAK7D,SAAL,CAAe2C,GAAf,CAAmB,QAAnB;AACAmB,cAAMM,WAAN,GAAoB,gBAApB;AACA4B,YAAIC,KAAJ,GAAYtC,gBAAgBS,WAA5B;AACAL,kBAAU0B,KAAV,GAAkBO,IAAIC,KAAtB;AACD,OALD,MAMK;AACHpC,aAAK7D,SAAL,CAAegB,MAAf,CAAsB,QAAtB;AACA8C,cAAMM,WAAN,GAAoB,yBAAyBT,gBAAgBS,WAA7D;AACA4B,YAAIC,KAAJ,GAAYtC,gBAAgBS,WAA5B;AACAL,kBAAU0B,KAAV,GAAkBO,IAAIC,KAAtB;AACD;AACF;;AAED,aAAS5B,OAAT,GAAoB;AAClBR,WAAK2B,SAAL,GAAiB,EAAjB;AACAxB,gBAAUyB,KAAV,GAAkB,EAAlB;;AAEAjC,eAAS/D,OAAT,CAAiB,UAACoF,OAAD,EAAUqB,SAAV,EAAwB;AACvCC,aAAMtB,OAAN,EAAeqB,SAAf;AACD,OAFD;AAGD;;AAED,aAASC,IAAT,CAAezB,WAAf,EAA4BwB,SAA5B,EAAuC;AACrC,UAAIE,mBAAmB,CAAvB;AAAA,UACIC,kBAAkB,CADtB;AAAA,UAEIC,OAAO,CAFX;AAAA,UAGIhB,UAAU,CAHd;AAAA,UAIIiB,kBAAkB,CAJtB;AAAA,UAKIC,iBAAiB,CALrB;AAAA,UAMIC,YAAY,EANhB;AAAA,UAOIC,gBAAgB,EAPpB;;AASAhC,kBAAYnF,gBAAZ,CAA6B,iBAA7B,EAAgDE,OAAhD,CAAwD,mBAAW;AACjE,YAAIkH,eAAe,CAAnB;AAAA,YACIC,cAAc,CADlB;AAAA,YAEIC,kBAAkB,CAFtB;AAAA,YAGIC,iBAAiB,CAHrB;AAAA,YAIIC,aAAa,CAJjB;AAAA,YAKIC,cAAc,CALlB;AAAA,YAMIlB,QAAQ,EANZ;AAAA,YAOImB,YAAY,EAPhB;AAAA,YAQIC,iBARJ;;AAUArC,gBAAQtF,gBAAR,CAAyB,gBAAzB,EAA2CE,OAA3C,CAAmD,gBAAQ;AACzD,cAAIsB,KAAKZ,aAAL,CAAmB,OAAnB,EAA4B8E,OAA5B,IAAuC,CAAClE,KAAKnB,OAAL,CAAa,WAAb,CAAxC,IAAqE,CAACmB,KAAKZ,aAAL,CAAmB,eAAnB,CAA1E,EAA+G;AAC7GwG,4BAAgBQ,WAAWpG,KAAKZ,aAAL,CAAmB,UAAnB,EAA+BiE,WAA/B,CAA2CgD,OAA3C,CAAmD,MAAnD,EAA2D,EAA3D,CAAX,CAAhB;AACAR,2BAAeO,WAAWpG,KAAKZ,aAAL,CAAmB,UAAnB,EAA+BiE,WAA/B,CAA2CgD,OAA3C,CAAmD,MAAnD,EAA2D,EAA3D,CAAX,CAAf;AACA9B,uBAAW,CAAX;AACA0B,2BAAe,CAAf;AACAlB,kBAAMuB,IAAN,CAAWtG,KAAKZ,aAAL,CAAmB,UAAnB,EAA+BiE,WAA/B,CAA2CkD,IAA3C,EAAX;AACAL,sBAAUI,IAAV,CAAetG,KAAKZ,aAAL,CAAmB,UAAnB,EAA+BiE,WAA/B,CAA2CkD,IAA3C,EAAf;AACD;AACDP,wBAAc,CAAd;AACAF,6BAAmBM,WAAWpG,KAAKZ,aAAL,CAAmB,UAAnB,EAA+BiE,WAA/B,CAA2CgD,OAA3C,CAAmD,MAAnD,EAA2D,EAA3D,CAAX,CAAnB;AACAN,4BAAkBK,WAAWpG,KAAKZ,aAAL,CAAmB,UAAnB,EAA+BiE,WAA/B,CAA2CgD,OAA3C,CAAmD,MAAnD,EAA2D,EAA3D,CAAX,CAAlB;AACD,SAZD;;AAcAZ,0BAAkB,CAAlB;;AAEA,YAAIQ,gBAAgBD,UAApB,EAAgC;AAC9BR,6BAAmB,CAAnB;AACAE,oBAAUY,IAAV,CAAexC,QAAQ1E,aAAR,CAAsB,UAAtB,EAAkCiE,WAAlC,CAA8CkD,IAA9C,EAAf;AACAZ,wBAAcW,IAAd,CAAmBxC,QAAQ1E,aAAR,CAAsB,UAAtB,EAAkCiE,WAAlC,CAA8CkD,IAA9C,EAAnB;AACD,SAJD,MAKK,IAAIN,cAAc,CAAlB,EAAqB;AACxBnB,sBAAYC,KAAZ,EAAmBmB,SAAnB;AACD;;AAEDpC,gBAAQ1E,aAAR,CAAsB,UAAtB,EAAkCiE,WAAlC,GAAgDyC,eAAhD;AACAD,uBAAe,IAAf;AACAA,sBAAcA,YAAYW,KAAZ,CAAkB,CAAlB,EAAqBX,YAAYjF,MAAZ,GAAqB,CAA1C,IAA+C,GAA/C,GAAqDiF,YAAYW,KAAZ,CAAkBX,YAAYjF,MAAZ,GAAqB,CAAvC,EAA0CiF,YAAYjF,MAAtD,CAAnE;AACAmF,0BAAkB,IAAlB;AACAA,yBAAiBA,eAAeS,KAAf,CAAqB,CAArB,EAAwBT,eAAenF,MAAf,GAAwB,CAAhD,IAAqD,GAArD,GAA2DmF,eAAeS,KAAf,CAAqBT,eAAenF,MAAf,GAAwB,CAA7C,EAAgDmF,eAAenF,MAA/D,CAA5E;AACAkD,gBAAQ1E,aAAR,CAAsB,UAAtB,EAAkCiE,WAAlC,GAAgD0C,cAAhD;;AAEAV,4BAAoBO,YAApB;AACAN,2BAAmBc,WAAWP,YAAYQ,OAAZ,CAAoB,MAApB,EAA4B,EAA5B,CAAX,CAAnB;;AAGA;AACA;AACA;AACA;AAED,OApDD;;AAsDAhB,yBAAmBoB,KAAKC,IAAL,CAAUrB,gBAAV,CAAnB;AACA1B,kBAAYvE,aAAZ,CAA0B,WAA1B,EAAuCiE,WAAvC,GAAqDgC,mBAAmB,GAAnB,GAAyBhD,UAAUgD,gBAAV,EAA4B,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,CAA5B,CAA9E;;AAEAE,aAAOkB,KAAKC,IAAL,CAAUrB,mBAAmB,CAA7B,CAAP;AACA1B,kBAAYvE,aAAZ,CAA0B,UAA1B,EAAsCiE,WAAtC,GAAoDkC,OAAO,GAAP,GAAa,GAAb,GAAmBlD,UAAUkD,IAAV,EAAgB,CAAC,MAAD,EAAS,KAAT,EAAgB,MAAhB,CAAhB,CAAvE;;AAEAD,yBAAmB,IAAnB;AACAA,wBAAkBA,gBAAgBkB,KAAhB,CAAsB,CAAtB,EAAyBlB,gBAAgB1E,MAAhB,GAAyB,CAAlD,IAAuD,GAAvD,GAA6D0E,gBAAgBkB,KAAhB,CAAsBlB,gBAAgB1E,MAAhB,GAAyB,CAA/C,EAAkD0E,gBAAgB1E,MAAlE,CAA/E;AACA+C,kBAAYvE,aAAZ,CAA0B,UAA1B,EAAsCiE,WAAtC,GAAoDiC,eAApD;;AAEA3B,kBAAYvE,aAAZ,CAA0B,WAA1B,EAAuCiE,WAAvC,GAAqDkB,OAArD;;AAEAoC;;AAEA,UAAInB,oBAAoBC,cAAxB,EAAwC;AACtCX,oBAAY,CAACnB,YAAYvE,aAAZ,CAA0B,UAA1B,EAAsCiE,WAAtC,CAAkDkD,IAAlD,EAAD,CAAZ,EAAwE,CAAC5C,YAAYvE,aAAZ,CAA0B,UAA1B,EAAsCiE,WAAtC,CAAkDkD,IAAlD,EAAD,CAAxE;AACD,OAFD,MAGK,IAAIf,kBAAkB,CAAtB,EAAyB;AAC5BV,oBAAYY,SAAZ,EAAuBC,aAAvB;AACD;;AAEDb,kBAAY,EAAZ;AACD;;AAED,aAAS6B,SAAT,GAAsB;AACpB,UAAIpC,UAAU,CAAd;AAAA,UACIN,OAAO,CADX;AAEAV,cAAQC,WAAR,CAAoB9E,OAApB,CAA4B,UAACsB,IAAD,EAAOmB,CAAP,EAAa;AACvCoD,mBAAW,CAAChB,QAAQC,WAAR,CAAoBrC,CAApB,EAAuBkC,WAAnC;AACAY,gBAAQmC,WAAW7C,QAAQE,QAAR,CAAiBtC,CAAjB,EAAoBkC,WAApB,CAAgCgD,OAAhC,CAAwC,MAAxC,EAAgD,EAAhD,CAAX,CAAR;AACD,OAHD;AAIApC,cAAQ,IAAR;AACAA,aAAOA,KAAKuC,KAAL,CAAW,CAAX,EAAcvC,KAAKrD,MAAL,GAAc,CAA5B,IAAiC,GAAjC,GAAuCqD,KAAKuC,KAAL,CAAWvC,KAAKrD,MAAL,GAAc,CAAzB,EAA4BqD,KAAKrD,MAAjC,CAA9C;AACA+B,yBAAmBU,WAAnB,GAAiCkB,OAAjC;AACA3B,sBAAgBS,WAAhB,GAA8BY,IAA9B;AACA;AACD;;AAEDxB,aAAS/D,OAAT,CAAiB,mBAAW;AAC1B6E,cAAQC,WAAR,CAAoBD,QAAQC,WAAR,CAAoB5C,MAAxC,IAAkDkD,QAAQ1E,aAAR,CAAsB,WAAtB,CAAlD;AACAmE,cAAQE,QAAR,CAAiBF,QAAQE,QAAR,CAAiB7C,MAAlC,IAA4CkD,QAAQ1E,aAAR,CAAsB,UAAtB,CAA5C;AACAsE,eAASI,OAAT;AACD,KAJD;;AAMAR;AACD;AACD,WAASqB,KAAT,GAAkB;AAChB,QAAMlC,WAAWrE,SAASI,gBAAT,CAA0B,WAA1B,CAAjB;;AAEAiE,aAAS/D,OAAT,CAAiB,mBAAW;AAC1B,UAAMiG,QAAQb,QAAQ1E,aAAR,CAAsB,OAAtB,CAAd;;AAEA,UAAIuF,KAAJ,EAAW;AACTA,cAAMtG,gBAAN,CAAuB,OAAvB,EAAgC,YAAM;AACpCyF,kBAAQ7E,SAAR,CAAkB2C,GAAlB,CAAsB,QAAtB;AACD,SAFD;;AAIA+C,cAAMtG,gBAAN,CAAuB,MAAvB,EAA+B,YAAM;AACnC,cAAI,CAACsG,MAAMD,KAAN,CAAY9D,MAAjB,EAAyB;AACvBkD,oBAAQ7E,SAAR,CAAkBgB,MAAlB,CAAyB,QAAzB;AACD;AACF,SAJD;AAKD,OAVD,MAWK;AACH,YAAM2G,WAAW9C,QAAQ1E,aAAR,CAAsB,UAAtB,CAAjB;AACAwH,iBAASlC,KAAT,GAAiBkC,SAASlC,KAAT,CAAe6B,IAAf,EAAjB;;AAEAK,iBAASvI,gBAAT,CAA0B,OAA1B,EAAmC,YAAM;AACvCyF,kBAAQ7E,SAAR,CAAkB2C,GAAlB,CAAsB,QAAtB;AACD,SAFD;;AAIAgF,iBAASvI,gBAAT,CAA0B,MAA1B,EAAkC,YAAM;AACtC,cAAI,CAACuI,SAASlC,KAAT,CAAe6B,IAAf,GAAsB3F,MAA3B,EAAmC;AACjCkD,oBAAQ7E,SAAR,CAAkBgB,MAAlB,CAAyB,QAAzB;AACD;AACF,SAJD;AAKD;AAIF,KA/BD;AAgCD;AACD,MAAM4G,SAAS,SAATA,MAAS,GAAM;AACnB,QAAMC,QAAQ1I,SAASI,gBAAT,CAA0B,gBAA1B,CAAd;;AAEAsI,UAAMpI,OAAN,CAAc,UAACqI,IAAD,EAAU;AACtBA,WAAK1I,gBAAL,CAAsB,OAAtB,EAA+B,UAAC2I,CAAD,EAAO;AACpCA,UAAEC,cAAF;;AAEA,YAAMC,WAAWH,KAAKI,YAAL,CAAkB,MAAlB,CAAjB;AACA,YAAMC,OAAOhJ,SAASgB,aAAT,MAA0B8H,QAA1B,CAAb;AACA,YAAMG,aAAa1H,UAAUyH,IAAV,CAAnB;AACA,YAAME,cAAcD,WAAWE,GAAX,GAAiB,GAArC;;AAEAhI,UAAE,YAAF,EAAgBiI,OAAhB,CAAwB,EAAEC,WAAWH,WAAb,EAAxB;AACD,OATD;AAUD,KAXD;AAYD,GAfD;;AAiBA,MAAMI,YAAY,SAAZA,SAAY,GAAM;AACtBnI,MAAE,gBAAF,EAAoBoI,IAApB,CAAyB,oBAAzB;AACD,GAFD;;AAIA,WAASC,IAAT,GAAiB;AACbxJ,aAASyJ,cAAT,CAAwB,MAAxB,EAAgCxJ,gBAAhC,CAAiD,QAAjD,EAA2D,UAASgB,KAAT,EAAgB;AACvEA,YAAM4H,cAAN;AACAa,iBAAW,YAAM;AACb,YAAI,CAAC1J,SAASgB,aAAT,CAAuB,yBAAvB,CAAL,EAAwD;AACpD6F,cAAIC,KAAJ,GAAYkB,WAAWnB,IAAIC,KAAJ,CAAUmB,OAAV,CAAkB,MAAlB,EAA0B,EAA1B,CAAX,CAAZ;AACA,cAAI0B,MAAM3J,SAASgB,aAAT,CAAuB,kBAAvB,EAA2CiE,WAA3C,CAAuDkD,IAAvD,OAAkE,gBAA5E;AACAhH,YAAEyI,IAAF,CACI,UADJ,EACgB;AACZzI,YAAE,OAAF,EAAW0I,SAAX,EAFJ,EAE4B;;AAExB,oBAASC,GAAT,EAAc;AAAE;AACZ9J,qBAASgB,aAAT,CAAuB,eAAvB,EAAwCH,SAAxC,CAAkD2C,GAAlD,CAAsD,QAAtD;AACAqD,gBAAIkD,IAAJ,CAASlJ,SAAT,CAAmB2C,GAAnB,CAAuB,OAAvB;;AAEA,gBAAImG,GAAJ,EAAS;AACL,kBAAIK,aAAa;AACbC,6BAAapD,IAAIC,KADJ;AAEboD,0BAAU;AAFG,eAAjB;;AAMAC,iBAAG,QAAH,EAAY,WAAZ,EAAwB,8BAAxB,EAAwDH,UAAxD;;AAEAI,mBAAK,OAAL,EAAc,eAAd,EAA+B;AAC3B,+BAAe,8BADY;AAE3B,yBAASvD,IAAIC;AAFc,eAA/B;AAKH,aAdD,MAeK;AACD,kBAAIkD,aAAa;AACbC,6BAAapD,IAAIC,KADJ;AAEboD,0BAAU;AAFG,eAAjB;;AAKAC,iBAAG,QAAH,EAAY,WAAZ,EAAwB,2BAAxB,EAAqDH,UAArD;;AAEAI,mBAAK,OAAL,EAAc,eAAd,EAA+B;AAC3B,+BAAe,2BADY;AAE3B,yBAASvD,IAAIC;AAFc,eAA/B;AAIH;AACJ,WApCL;AAsCA,iBAAO,KAAP;AACH;AACJ,OA5CD,EA4CG,GA5CH;AA6CH,KA/CD;AAgDH;AACD,WAASuD,OAAT,GAAoB;AAClB,QAAIzI,OAAO5B,SAASgB,aAAT,CAAuB,UAAvB,CAAX;AAAA,QACIuF,QAAQ3E,KAAKZ,aAAL,CAAmB,OAAnB,CADZ;AAAA,QAEIsJ,OAAO1I,KAAKZ,aAAL,CAAmB,MAAnB,CAFX;;AAIAY,SAAK3B,gBAAL,CAAsB,QAAtB,EAAgC,iBAAS;AACvC,UAAIgB,MAAMsJ,UAAN,CAAiBC,KAAjB,CAAuBhI,MAAvB,KAAkC,CAAtC,EAAyC;AACvC8H,aAAKrF,WAAL,GAAmB,eAAnB;AACD,OAFD,MAGK,IAAIhE,MAAMsJ,UAAN,CAAiBC,KAAjB,CAAuBhI,MAAvB,KAAkC,CAAtC,EAAyC;AAC5C8H,aAAKrF,WAAL,GAAmBhE,MAAMsJ,UAAN,CAAiBC,KAAjB,CAAuB,CAAvB,EAA0B/D,IAA7C;AACD,OAFI,MAGA;AACH6D,aAAKrF,WAAL,sEAAkChE,MAAMsJ,UAAN,CAAiBC,KAAjB,CAAuBhI,MAAzD;AACD;AACF,KAVD;AAWD;AACD,WAASiI,UAAT,GAAuB;AACrB,QAAMC,cAAc1K,SAASI,gBAAT,CAA0B,gBAA1B,CAApB;AAAA,QACMuK,iBAAiB3K,SAASI,gBAAT,CAA0B,oBAA1B,CADvB;AAAA,QAEMwK,QAAQ5K,SAASgB,aAAT,CAAuB,iBAAvB,CAFd;AAAA,QAGM6J,WAAWD,MAAM5J,aAAN,CAAoB,KAApB,CAHjB;AAAA,QAIM8J,YAAYF,MAAM5J,aAAN,CAAoB,MAApB,CAJlB;;AAMA0J,gBAAYpK,OAAZ,CAAoB,gBAAQ;AAC1B,UAAMyK,MAAMnJ,KAAKZ,aAAL,CAAmB,KAAnB,CAAZ;AAAA,UACMgE,OAAOpD,KAAKZ,aAAL,CAAmB,UAAnB,CADb;;AAIAgK,gBAAUD,GAAV,EAAeA,IAAIE,GAAnB,EAAwBjG,IAAxB;AACD,KAND;;AAQA2F,mBAAerK,OAAf,CAAuB,gBAAQ;AAC7B,UAAI,CAACsB,KAAKf,SAAL,CAAeC,QAAf,CAAwB,UAAxB,CAAL,EAA0C;AACxCkK,kBAAUpJ,IAAV,EAAgBA,KAAK4E,OAAL,CAAauE,GAA7B,EAAkC,KAAlC;AACD;AACF,KAJD;;AAMA,aAASC,SAAT,CAAoBzK,GAApB,EAAyB0K,GAAzB,EAA8BjG,IAA9B,EAAoC;AAClCzE,UAAIN,gBAAJ,CAAqB,OAArB,EAA8B,iBAAS;AACrC4K,iBAASI,GAAT,GAAeA,GAAf;AACA,YAAIjG,IAAJ,EAAU;AACR8F,oBAAU7F,WAAV,GAAwBD,KAAKC,WAA7B;AACD,SAFD,MAGK;AACH6F,oBAAU7F,WAAV,GAAwB,EAAxB;AACD;;AAED2F,cAAM/J,SAAN,CAAgB2C,GAAhB,CAAoB,QAApB;AACAqD,YAAIkD,IAAJ,CAASlJ,SAAT,CAAmB2C,GAAnB,CAAuB,OAAvB;AACD,OAXD;AAYD;;AAEDoH,UAAM3K,gBAAN,CAAuB,OAAvB,EAAgC,iBAAS;AACvC2K,YAAM/J,SAAN,CAAgBgB,MAAhB,CAAuB,QAAvB;AACAgF,UAAIkD,IAAJ,CAASlJ,SAAT,CAAmBgB,MAAnB,CAA0B,OAA1B;AACD,KAHD;AAID;AACD,WAAS+I,KAAT,GAAkB;AAChB,QAAIA,QAAQ5K,SAASI,gBAAT,CAA0B,WAA1B,CAAZ;;AAEAwK,UAAMtK,OAAN,CAAc,gBAAQ;AACpBsB,WAAK3B,gBAAL,CAAsB,OAAtB,EAA+B,iBAAS;AACtC,YAAIgB,MAAMC,MAAN,CAAaT,OAAb,CAAqB,WAArB,KAAqC,CAACQ,MAAMC,MAAN,CAAaT,OAAb,CAAqB,iBAArB,CAA1C,EAAmF;AACjFmB,eAAKf,SAAL,CAAegB,MAAf,CAAsB,QAAtB;AACAgF,cAAIkD,IAAJ,CAASlJ,SAAT,CAAmBgB,MAAnB,CAA0B,OAA1B;AACD;AACF,OALD;AAMD,KAPD;AAQD;AACD,WAASqJ,SAAT,GAAsB;AACpB,QAAMC,OAAOnL,SAASyJ,cAAT,CAAwB,KAAxB,CAAb;AAAA,QACM2B,QAAQpL,SAASgB,aAAT,CAAuB,cAAvB,CADd;;AAGAS,WAAOxB,gBAAP,CAAwB,QAAxB,EAAkC,iBAAS;;AAEzC,UAAIkL,KAAKE,SAAL,GAAiB5J,OAAO6J,WAAP,GAAqB,GAA1C,EAA+C;AAC7CF,cAAMvK,SAAN,CAAgB2C,GAAhB,CAAoB,QAApB;AACD,OAFD,MAGK;AACH4H,cAAMvK,SAAN,CAAgBgB,MAAhB,CAAuB,QAAvB;AACD;AACF,KARD;AASD;AACD,WAAS0J,SAAT,GAAsB;AACpB,QAAMhJ,QAAQvC,SAASI,gBAAT,CAA0B,wBAA1B,CAAd;;AAEA,QAAIqG,OAAOlE,MAAM,CAAN,EAASiE,OAAT,CAAiBC,IAA5B;AAAA,QACI1D,IAAI,CADR;;AAGAR,UAAMjC,OAAN,CAAc,UAACsB,IAAD,EAAO4J,CAAP,EAAa;AACzBzI;;AAEA,UAAInB,KAAK4E,OAAL,CAAaC,IAAb,KAAsBA,IAA1B,EAAgC;AAC9B1D,YAAI,CAAJ;AACA0D,eAAO7E,KAAK4E,OAAL,CAAaC,IAApB;AACD;;AAED,UAAI1D,MAAM,CAAN,IAAWyI,MAAM,CAArB,EAAwB;AACtB5J,aAAKnB,OAAL,CAAa,OAAb,EAAsBgL,KAAtB,CAA4BC,OAA5B,GAAsC,MAAtC;AACD;AACF,KAXD;AAYD;AACD,WAASC,WAAT,GAAwB;AACtB,QAAI/J,OAAO5B,SAASgB,aAAT,CAAuB,kBAAvB,CAAX;AAAA,QACImK,OAAOnL,SAASgB,aAAT,CAAuB,gBAAvB,CADX;;AAGA,aAAS4K,SAAT,GAAsB;AACpB,UAAIT,KAAKU,YAAL,GAAoBjK,KAAKiK,YAAzB,KAA0CjK,KAAKyJ,SAAnD,EAA8D;AAC5DzJ,aAAKf,SAAL,CAAe2C,GAAf,CAAmB,QAAnB;AACD,OAFD,MAGK;AACH5B,aAAKf,SAAL,CAAegB,MAAf,CAAsB,QAAtB;AACD;AACF;;AAED7B,aAASC,gBAAT,CAA0B,QAA1B,EAAoC2L,SAApC;;AAEAA;AACD;AACD,WAASE,cAAT,GAA2B;AACzB,QAAIzH,WAAWrE,SAASI,gBAAT,CAA0B,mBAA1B,CAAf;;AAEAiE,aAAS/D,OAAT,CAAiB,mBAAW;AAC1BoF,cAAQzF,gBAAR,CAAyB,YAAzB,EAAuC,iBAAS;AAC9C,YAAI2B,OAAO8D,QAAQ1E,aAAR,CAAsB,WAAtB,CAAX;;AAEA,YAAIC,MAAM8K,OAAN,GAAgB,GAAhB,GAAsBnK,KAAKoK,YAA/B,EAA6C;AAC3CtG,kBAAQ7E,SAAR,CAAkB2C,GAAlB,CAAsB,MAAtB;AACD,SAFD,MAGK;AACHkC,kBAAQ7E,SAAR,CAAkBgB,MAAlB,CAAyB,MAAzB;AACD;AACF,OATD;AAUD,KAXD;AAYD;AACD,MAAMoK,eAAe,SAAfA,YAAe,GAAM;AACzBxK,WAAOxB,gBAAP,CAAwB,QAAxB,EAAkC,UAAC2I,CAAD,EAAO;AACvC,UAAMS,YAAY5H,OAAO6J,WAAzB;AACA,UAAM1K,WAAWyI,YAAY,EAA7B;AACA,UAAM6C,SAASlM,SAASgB,aAAT,CAAuB,iBAAvB,CAAf;;AAEA,UAAGJ,QAAH,EAAY;AACVsL,eAAOrL,SAAP,CAAiB2C,GAAjB,CAAqB,OAArB;AACD,OAFD,MAEK;AACH0I,eAAOrL,SAAP,CAAiBgB,MAAjB,CAAwB,OAAxB;AACD;AACF,KAVD;AAWD,GAZD;;AAcA,MAAMsK,WAAW,SAAXA,QAAW,GAAM;AACrB,QAAIC,IAAI,IAAIC,QAAJ,CAAa,WAAb,EAA0BC,IAA1B,EAAR;AACD,GAFD;;AAIA,MAAMxH,OAAO,SAAPA,IAAO,GAAM;AAClB,QAAM3E,OAAOH,SAASI,gBAAT,CAA0B,iBAA1B,CAAb;;AAECD,SAAKG,OAAL,CAAa,UAACC,GAAD,EAAS;AACpBA,UAAIN,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;AAClC,YAAMsM,cAAchM,IAAIwI,YAAJ,CAAiB,eAAjB,CAApB;AACA,YAAMyD,gBAAgBjM,IAAIwI,YAAJ,CAAiB,gBAAjB,CAAtB;AACA,YAAM0D,eAAezM,SAASI,gBAAT,OAA8BmM,WAA9B,CAArB;AACA,YAAMG,cAAc/L,YAAYJ,GAAZ,CAApB;;AAEA;AACAmM,oBAAYpM,OAAZ,CAAoB,UAACqM,UAAD,EAAgB;AAClCA,qBAAW9L,SAAX,CAAqBgB,MAArB,CAA4B,QAA5B;AACD,SAFD;;AAIAtB,YAAIM,SAAJ,CAAc2C,GAAd,CAAkB,QAAlB;;AAEA;AACAiJ,qBAAanM,OAAb,CAAqB,UAACsM,WAAD,EAAiB;AACpC,cAAMrK,QAAQsK,MAAMC,IAAN,CAAWF,YAAYG,QAAvB,CAAd;;AAEAxK,gBAAMjC,OAAN,CAAc,UAACsB,IAAD,EAAU;AACtB,gBAAMoL,iBAAiBpL,KAAKmH,YAAL,CAAkB,gBAAlB,CAAvB;AACA,gBAAMkE,gBAAgBD,kBAAkBR,aAAxC;;AAEA,gBAAGS,aAAH,EAAkB;AAChB,kBAAMC,WAAWvM,YAAYiB,IAAZ,CAAjB;;AAEAsL,uBAAS5M,OAAT,CAAiB,UAAC6M,OAAD,EAAa;AAC5BA,wBAAQtM,SAAR,CAAkBgB,MAAlB,CAAyB,QAAzB;AACD,eAFD;;AAIAD,mBAAKf,SAAL,CAAe2C,GAAf,CAAmB,QAAnB;AACD;AACF,WAbD;AAcD,SAjBD;AAkBD,OAhCD;AAiCD,KAlCD;AAmCD,GAtCD;;AAwCA,MAAM4J,MAAM,SAANA,GAAM,GAAM;AACd,QAAMC,UAAU,IAAIC,GAAJ,CAChB;AACEC,gBAAU,KADZ;AAEEC,oBAAc,UAFhB;AAGEC,cAAQ,CAHV;AAIEC,cAAQ,KAJV;AAKEC,YAAM;AALR,KADgB,CAAhB;;AAUFN,YAAQf,IAAR;AACD,GAZD;;AAcA,MAAMzF,MAAM,EAAZ;AACAA,MAAIkD,IAAJ,GAAW/J,SAASgB,aAAT,CAAuB,MAAvB,CAAX;AACA6F,MAAI+G,QAAJ,GAAe,EAAf;AACA/G,MAAIgH,WAAJ,GAAkB7N,SAASgB,aAAT,CAAuB,eAAvB,CAAlB;AACA6F,MAAIiH,MAAJ,GAAa9N,SAASgB,aAAT,CAAuB,cAAvB,CAAb;AACA6F,MAAIkH,MAAJ,GAAa,CAAC,CAACtM,OAAOuM,oBAAT,IAAiC,CAAC,CAAChO,SAASiO,YAAzD;;AAGA,MAAGpH,IAAIkH,MAAP,EAAc;AACZlH,QAAIkD,IAAJ,CAASlJ,SAAT,CAAmB2C,GAAnB,CAAuB,MAAvB;AACD;;AAED,MAAI7C,cAAc,SAAdA,WAAc,CAAUqI,IAAV,EAAgB;AAChC,QAAIkE,WAAW,EAAf;AACA,QAAIC,UAAUnE,KAAKkF,UAAL,CAAgBC,UAA9B;;AAEA,WAAOhB,OAAP,EAAgB;AACd,UAAIA,QAAQiB,QAAR,KAAqB,CAArB,IAA0BjB,YAAYnE,IAA1C,EAAgD;AAC9CkE,iBAAShF,IAAT,CAAciF,OAAd;AACD;AACDA,gBAAUA,QAAQkB,WAAlB;AACD;;AAED,WAAOnB,QAAP;AAED,GAbD;;AAeA,WAASoB,UAAT,CAAqBC,IAArB,EAA2BC,SAA3B,EAAsCC,WAAtC,EAAmD;AAClD,WAAQF,QAAQA,SAASE,WAAzB,EAAuC;AACtC,UAAKD,UAAUD,IAAV,CAAL,EAAuB;AACtB,eAAOA,IAAP;AACA;AACDA,aAAOA,KAAKL,UAAZ;AACA;AACD;;AAED,WAAS3M,SAAT,CAAmByH,IAAnB,EAAyB;AACvB,QAAI0F,MAAM1F,KAAKlF,qBAAL,EAAV;;AAEA,WAAO;AACLqF,WAAKuF,IAAIvF,GAAJ,GAAUmC,WADV;AAELqD,YAAMD,IAAIC,IAAJ,GAAWC;AAFZ,KAAP;AAID;;AAED,MAAMC,YAAY,SAAZA,SAAY,GAAM;AACtB/J;;AAEA;AACA2D;AACD,GALD;;AAOAoG;AAED,CAt5BD","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n  const accordion = () => {\r\n    const btns = document.querySelectorAll('.js-accordion-btn'),\r\n          itemsSecond = document.querySelectorAll('.js-second-item');\r\n  \r\n    btns.forEach((btn) => {\r\n      const parentItem = btn.closest('.js-accordion-item');\r\n  \r\n      btn.addEventListener('click', () => {\r\n        const itemSiblings = getSiblings(parentItem);\r\n        const isActive = parentItem.classList.contains('fixed'),\r\n              content = parentItem.querySelector('.accordion__content');\r\n  \r\n        // show/hide accordion-content\r\n        // itemSiblings.forEach((itemSibling) => {\r\n        //   itemSibling.classList.remove('active');\r\n        // });\r\n  \r\n        // if(isActive){\r\n        //   parentItem.classList.remove('active');\r\n        //   parentItem.classList.remove('fixed');\r\n        // }else{\r\n        //   parentItem.classList.add('active');\r\n        //   parentItem.classList.add('fixed');\r\n        // }\r\n  \r\n        if (!event.target.closest('.accordion__column--checkbox')) {\r\n          $(content).slideToggle();\r\n          parentItem.classList.toggle('fixed');\r\n        }\r\n  \r\n  \r\n  \r\n  \r\n        // scroll to accordion-content\r\n        const btnCoords = getCoords(btn);\r\n  \r\n        // window.scroll({\r\n        //   top: btnCoords.top - 100,\r\n        //   behavior: 'smooth'\r\n        // });\r\n      });\r\n  \r\n      function checkSize () {\r\n  \r\n        if (window.screen.width <= 980) {\r\n          itemsSecond.forEach(item => {\r\n            item.classList.remove('fixed');\r\n            item.classList.remove('active');\r\n          })\r\n        }\r\n      }\r\n      \r\n      window.addEventListener('resize', checkSize);\r\n      \r\n      checkSize();\r\n      // parentItem.querySelector('.js-arrow').addEventListener('mouseenter', event => {\r\n      //   if (!parentItem.classList.contains('fixed')) {\r\n      //     parentItem.classList.add('active');\r\n      //   }\r\n      // });\r\n  \r\n      // parentItem.querySelector('.js-arrow').addEventListener('mouseleave', event => {\r\n      //   if (!parentItem.classList.contains('fixed')) {\r\n      //     parentItem.classList.remove('active');\r\n      //   }\r\n      // });\r\n  \r\n    });\r\n  };\r\n  \r\n  \r\n  \r\n  const carousel = () => {\r\n    const sliders = document.querySelectorAll('.js-carousel');\r\n  \r\n    sliders.forEach((slider) => {\r\n      const section = slider.closest('.js-carousel-section');\r\n      const container = section.querySelector('.js-carousel-container');\r\n      const nav = section.querySelector('.js-carousel-nav');\r\n      const sectionContainer = slider.closest('.portfolio__container');\r\n      let options;\r\n      const arrows = section.querySelector('.js-carousel-nav');\r\n      const items = section.querySelectorAll('.carousel__li').length;\r\n      const arr = [\r\n        {\r\n          size: 320,\r\n          amount: 1,\r\n        },\r\n        {\r\n          size: 370,\r\n          amount: 2,\r\n        },\r\n        {\r\n          size: 570,\r\n          amount: 3,\r\n        },\r\n        {\r\n          size: 770,\r\n          amount: 4,\r\n        },\r\n        {\r\n          size: 1065,\r\n          amount: 5,\r\n        },\r\n        {\r\n          size: 1430,\r\n          amount: 6,\r\n        },\r\n        {\r\n          size: 1880,\r\n          amount: 7,\r\n        },\r\n      ]\r\n  \r\n      const checkAnswer = () => {\r\n        let answer = 'check';\r\n  \r\n        arr.forEach((notUse, i) => {\r\n          let item = arr[arr.length - i - 1];\r\n          \r\n          if (window.screen.width >=item.size && answer === 'check') {\r\n            answer = item.amount < items;\r\n          }\r\n        })\r\n    \r\n        if (!answer) {\r\n          options = {\r\n            dots: false,\r\n            infinite: false,\r\n            draggable: false,\r\n            speed: 400,\r\n            variableWidth: true,\r\n            appendArrows: $(nav),\r\n            prevArrow: '<button type=\"button\" class=\"carousel__nav-btn carousel__nav-btn--prev\"><svg class=\"icon icon-arrow-prev carousel__nav-icon\"><use xlink:href=\"#arrow-prev\"></use></svg></button>',\r\n            nextArrow: '<button type=\"button\" class=\"carousel__nav-btn carousel__nav-btn--next\"><svg class=\"icon icon-arrow-next carousel__nav-icon\"><use xlink:href=\"#arrow-next\"></use></svg></button>',\r\n          };\r\n  \r\n          arrows.classList.add('hidden');\r\n        }\r\n        else {\r\n          options = {\r\n            dots: false,\r\n            infinite: false,\r\n            speed: 400,\r\n            variableWidth: true,\r\n            appendArrows: $(nav),\r\n            prevArrow: '<button type=\"button\" class=\"carousel__nav-btn carousel__nav-btn--prev\"><svg class=\"icon icon-arrow-prev carousel__nav-icon\"><use xlink:href=\"#arrow-prev\"></use></svg></button>',\r\n            nextArrow: '<button type=\"button\" class=\"carousel__nav-btn carousel__nav-btn--next\"><svg class=\"icon icon-arrow-next carousel__nav-icon\"><use xlink:href=\"#arrow-next\"></use></svg></button>',\r\n            autoplay: false,\r\n            autoplaySpeed: 5000\r\n          };\r\n  \r\n          arrows.classList.remove('hidden');\r\n        }\r\n  \r\n        $(slider).slick(options);\r\n      }\r\n  \r\n      const updateContainerWidth = () => {\r\n        const updatedContainerWidth = sectionContainer.getBoundingClientRect().right;\r\n        container.setAttribute('style', `width: ${updatedContainerWidth}px`);\r\n      };\r\n  \r\n      updateContainerWidth();\r\n  \r\n      \r\n  \r\n      window.addEventListener('resize', () => {\r\n        updateContainerWidth();\r\n        $(slider).slick('unslick');\r\n        checkAnswer();\r\n      });\r\n  \r\n      checkAnswer();\r\n    });\r\n  \r\n    $('.js-slider').slick({\r\n      infinite: true,\r\n      arrows: false,\r\n      dots: true,\r\n      autoplay: true,\r\n      autoplaySpeed: 3000\r\n    })\r\n  };\r\n  \r\n  function declOfNum(number, words) {  \r\n    return words[(number % 100 > 4 && number % 100 < 20) ? 2 : [2, 0, 1, 1, 1, 2][(number % 10 < 5) ? number % 10 : 5]];\r\n  }\r\n  \r\n  function calculator () {\r\n    const wrappers = document.querySelectorAll('.js-main-item'),\r\n          counterWrapper = document.querySelector('.js-counter'),\r\n          mainCounterWrapper = counterWrapper.querySelector('.js-count'),\r\n          mainCostWrapper = counterWrapper.querySelector('.js-cost'),\r\n          topCost = document.querySelector('.js-all-cost'),\r\n          list = document.querySelector('.js-list-calc'),\r\n          title = document.querySelector('.js-title-footer'),\r\n          inputCost = document.querySelector('.js-input-cost>input'),\r\n          inputPick = document.querySelector('.js-input-pick>input'),\r\n          tabs = document.querySelectorAll('.js-accordion-module');\r\n  \r\n    tabs.forEach (tab => {\r\n      let btn = tab.querySelector('.js-btn'),\r\n          text = tab.querySelector('.js-text');\r\n  \r\n      btn.addEventListener('click', event => {\r\n        if (tab.classList.contains('active')) {\r\n          tab.classList.remove('active');\r\n          text.textContent = 'Выбрать';\r\n          tabs.forEach((item, i) => {\r\n            if (item === tab) {\r\n              wrappers[i].classList.add('inactive');\r\n            }\r\n          })\r\n        }\r\n        else {\r\n          tab.classList.add('active');\r\n          text.textContent = 'Выбрано';\r\n          tabs.forEach((item, i) => {\r\n            if (item === tab) {\r\n              wrappers[i].classList.remove('inactive');\r\n            }\r\n          })\r\n        }\r\n  \r\n        calcAll();\r\n      })\r\n  \r\n      // calc();\r\n    })\r\n  \r\n    let mainObj = {\r\n          countersArr: [],\r\n          costsArr: [],\r\n        };\r\n  \r\n    function makeCalc (wrapperMain) {\r\n      const checkboxMain = wrapperMain.querySelector('input');\r\n  \r\n      function makeSecondZero (wrapper) {\r\n        const checkbox = wrapper.querySelector('input'),\r\n              time = wrapper.querySelector('.js-time'),\r\n              cost = wrapper.querySelector('.js-cost');\r\n  \r\n        checkbox.checked = false;\r\n        time.textContent = 0;\r\n        cost.textContent = '0 ₽';\r\n      }\r\n  \r\n      function makeSecondChecked (wrapper) {\r\n        const checkbox = wrapper.querySelector('input');\r\n  \r\n        checkbox.checked = true;\r\n      }\r\n  \r\n      function makeThirdZero (wrapper) {  \r\n        const checkbox = wrapper.querySelector('input');\r\n  \r\n        checkbox.checked = false;\r\n      }\r\n  \r\n      function makeThirdChecked (wrapper) {  \r\n        const checkbox = wrapper.querySelector('input');\r\n  \r\n        checkbox.checked = true;\r\n      }\r\n  \r\n      function checkSecond () {\r\n        let counter = 0;\r\n  \r\n        wrapperMain.querySelectorAll('.js-second-item').forEach(item => {\r\n          if (item.querySelector('input').checked) {\r\n            counter += 1;\r\n          }\r\n        });\r\n  \r\n        if (counter) {\r\n          wrapperMain.querySelector('input').checked = true;\r\n        }\r\n        else {\r\n          wrapperMain.querySelector('input').checked = false;\r\n        }\r\n  \r\n        \r\n      }\r\n  \r\n      function checkThird (wrapper) {\r\n        let counter = 0;\r\n  \r\n        wrapper.querySelectorAll('.js-third-item').forEach(item => {\r\n          if (item.querySelector('input').checked) {\r\n            counter += 1;\r\n          }\r\n        });\r\n  \r\n        if (counter) {\r\n          wrapper.querySelector('input').checked = true;\r\n        }\r\n        else {\r\n          wrapper.querySelector('input').checked = false;\r\n        }\r\n  \r\n        \r\n      }\r\n  \r\n      wrapperMain.querySelectorAll('.js-second-item').forEach(wrapper => {\r\n        wrapper.querySelector('input').addEventListener('change', function () {\r\n          list.innerHTML = '';\r\n          inputPick.value = '';\r\n          if (this.checked) {\r\n            wrapper.querySelectorAll('.js-third-item').forEach(item => {\r\n              makeThirdChecked(item);\r\n            });\r\n          }\r\n          else {\r\n            wrapper.querySelectorAll('.js-third-item').forEach(item => {\r\n              makeThirdZero(item);\r\n            });\r\n          }\r\n  \r\n          checkSecond();\r\n          calcAll();\r\n        });\r\n      });\r\n  \r\n      checkboxMain.addEventListener('change', function (event) {\r\n        list.innerHTML = '';\r\n        inputPick.value = '';\r\n        \r\n        if (this.checked) {\r\n          wrapperMain.querySelectorAll('.js-second-item').forEach(item => {\r\n            makeSecondChecked(item);\r\n          });\r\n  \r\n          wrapperMain.querySelectorAll('.js-third-item').forEach(item => {\r\n            makeThirdChecked(item);\r\n          });\r\n        }\r\n        else {\r\n          wrapperMain.querySelector('.js-days').textContent = '0 дней';\r\n          wrapperMain.querySelector('.js-hours').textContent = '0 часов';\r\n          wrapperMain.querySelector('.js-cost').textContent = '0 ₽';\r\n          \r\n          wrapperMain.querySelectorAll('.js-second-item').forEach(item => {\r\n            makeSecondZero(item);\r\n          });\r\n  \r\n          wrapperMain.querySelectorAll('.js-third-item').forEach(item => {\r\n            makeThirdZero(item);\r\n          });\r\n        }\r\n  \r\n        calcAll();\r\n      });\r\n  \r\n      wrapperMain.querySelectorAll('.js-second-item').forEach(wrapper => {\r\n        wrapper.querySelectorAll('.js-third-item').forEach(item => {\r\n          let input = item.querySelector('input');\r\n          \r\n          input.addEventListener('change', event => {\r\n            let checked = input.checked;\r\n            list.innerHTML = '';\r\n            inputPick.value = '';\r\n            if (event.target.closest('.js-one-pick')) {\r\n              wrapper.querySelectorAll('.js-third-item input').forEach(item => {\r\n                if (item.dataset.name === input.dataset.name) {\r\n                  item.checked = false;\r\n                }\r\n              });\r\n              input.checked = checked;\r\n            }\r\n  \r\n            if (event.target.closest('.js-only-several')) {\r\n              wrapper.querySelectorAll('.js-third-item input').forEach(item => {\r\n                if (item.dataset.name === input.dataset.name) {\r\n                  item.checked = checked;\r\n                }\r\n              });\r\n            }\r\n  \r\n            checkThird(wrapper);\r\n            checkSecond();\r\n            calcAll();\r\n          });\r\n  \r\n          // item.querySelector('.js-btn-add').addEventListener('click', event => {\r\n          //   if (input.checked) {\r\n          //   }\r\n          //   else {\r\n          //     input.checked = true;\r\n          //     checkThird(wrapper);\r\n          //     checkSecond();\r\n          //     calcAll();\r\n          //   }\r\n          // })\r\n        });\r\n        \r\n      });\r\n    }\r\n  \r\n    function addToFooter (array, costArray = []) {\r\n      let items = list.querySelectorAll('li'),\r\n          text = text[0] || 'random';\r\n      array.forEach((item, i) => {\r\n        list.innerHTML += `\r\n        <li class=\"footer__item-calc\">\r\n          <div class=\"footer__wrapper-calc\">\r\n            ${item}\r\n          </div>\r\n        </li>\r\n        `;\r\n  \r\n        inputPick.value += `${item} - ${costArray[i]}, <br> `;\r\n      });\r\n      \r\n      if (!(items.length === 0 && text.textContent)) {\r\n        list.classList.add('hidden');\r\n        title.textContent = 'Обратная связь';\r\n        NKH.order = mainCostWrapper.textContent;\r\n        inputCost.value = NKH.order;\r\n      } \r\n      else {\r\n        list.classList.remove('hidden');\r\n        title.textContent = 'Вы выбрали на сумму ' + mainCostWrapper.textContent;\r\n        NKH.order = mainCostWrapper.textContent;\r\n        inputCost.value = NKH.order;\r\n      }\r\n    }\r\n  \r\n    function calcAll () {\r\n      list.innerHTML = '';\r\n      inputPick.value = '';\r\n  \r\n      wrappers.forEach((wrapper, moduleNum) => {\r\n        calc (wrapper, moduleNum);\r\n      });\r\n    }\r\n  \r\n    function calc (wrapperMain, moduleNum) {\r\n      let mainCounterHours = 0,\r\n          mainCounterCost = 0,\r\n          days = 0,\r\n          counter = 0,\r\n          counterHaveMain = 0,\r\n          counterAllMain = 0,\r\n          arrayMain = [],\r\n          arrayCostMain = [];\r\n  \r\n      wrapperMain.querySelectorAll('.js-second-item').forEach(wrapper => {\r\n        let counterHours = 0,\r\n            counterCost = 0,\r\n            counterHoursAlt = 0,\r\n            counterCostAlt = 0,\r\n            counterAll = 0,\r\n            counterHave = 0,\r\n            array = [],\r\n            arrayCost = [],\r\n            costHelp;\r\n  \r\n        wrapper.querySelectorAll('.js-third-item').forEach(item => {\r\n          if (item.querySelector('input').checked && !item.closest('.inactive') && !item.querySelector('.js-not-count')) {\r\n            counterHours += parseFloat(item.querySelector('.js-time').textContent.replace(/\\s+/g, ''));\r\n            counterCost += parseFloat(item.querySelector('.js-cost').textContent.replace(/\\s+/g, ''));\r\n            counter += 1;\r\n            counterHave += 1;\r\n            array.push(item.querySelector('.js-text').textContent.trim());\r\n            arrayCost.push(item.querySelector('.js-cost').textContent.trim());\r\n          }\r\n          counterAll += 1;\r\n          counterHoursAlt += parseFloat(item.querySelector('.js-time').textContent.replace(/\\s+/g, ''));\r\n          counterCostAlt += parseFloat(item.querySelector('.js-cost').textContent.replace(/\\s+/g, ''));\r\n        });\r\n        \r\n        counterAllMain += 1;\r\n  \r\n        if (counterHave === counterAll) {\r\n          counterHaveMain += 1;\r\n          arrayMain.push(wrapper.querySelector('.js-text').textContent.trim());\r\n          arrayCostMain.push(wrapper.querySelector('.js-cost').textContent.trim());\r\n        }\r\n        else if (counterHave > 0) {\r\n          addToFooter(array, arrayCost);\r\n        }\r\n        \r\n        wrapper.querySelector('.js-time').textContent = counterHoursAlt;\r\n        counterCost += \" ₽\";\r\n        counterCost = counterCost.slice(0, counterCost.length - 5) + ' ' + counterCost.slice(counterCost.length - 5, counterCost.length);\r\n        counterCostAlt += \" ₽\";\r\n        counterCostAlt = counterCostAlt.slice(0, counterCostAlt.length - 5) + ' ' + counterCostAlt.slice(counterCostAlt.length - 5, counterCostAlt.length);\r\n        wrapper.querySelector('.js-cost').textContent = counterCostAlt;\r\n        \r\n        mainCounterHours += counterHours;\r\n        mainCounterCost += parseFloat(counterCost.replace(/\\s+/g, ''));\r\n        \r\n  \r\n        // if (!tabs[moduleNum].classList.contains('js-not-count')) {\r\n        //   costHelp = mainCounterCost + ' ₽'\r\n        //   tabs[moduleNum].querySelector('.js-value').textContent = costHelp.slice(0, costHelp.length - 5) + ' ' + costHelp.slice(costHelp.length - 5, costHelp.length);\r\n        // }\r\n        \r\n      });\r\n  \r\n      mainCounterHours = Math.ceil(mainCounterHours);\r\n      wrapperMain.querySelector('.js-hours').textContent = mainCounterHours + ' ' + declOfNum(mainCounterHours, ['час', 'часа', 'часов']);\r\n      \r\n      days = Math.ceil(mainCounterHours / 8);\r\n      wrapperMain.querySelector('.js-days').textContent = days + ' ' + ' ' + declOfNum(days, ['день', 'дня', 'дней']);\r\n      \r\n      mainCounterCost += \" ₽\";\r\n      mainCounterCost = mainCounterCost.slice(0, mainCounterCost.length - 5) + ' ' + mainCounterCost.slice(mainCounterCost.length - 5, mainCounterCost.length);\r\n      wrapperMain.querySelector('.js-cost').textContent = mainCounterCost;\r\n      \r\n      wrapperMain.querySelector('.js-count').textContent = counter;\r\n      \r\n      finalCalc ();\r\n  \r\n      if (counterHaveMain === counterAllMain) {\r\n        addToFooter([wrapperMain.querySelector('.js-text').textContent.trim()], [wrapperMain.querySelector('.js-cost').textContent.trim()]);\r\n      }\r\n      else if (counterHaveMain > 0) {\r\n        addToFooter(arrayMain, arrayCostMain);\r\n      }\r\n  \r\n      addToFooter([]);\r\n    }\r\n  \r\n    function finalCalc () {\r\n      let counter = 0,\r\n          cost = 0;\r\n      mainObj.countersArr.forEach((item, i) => {\r\n        counter += +mainObj.countersArr[i].textContent;\r\n        cost += parseFloat(mainObj.costsArr[i].textContent.replace(/\\s+/g, ''));\r\n      });\r\n      cost += \" ₽\";\r\n      cost = cost.slice(0, cost.length - 5) + ' ' + cost.slice(cost.length - 5, cost.length);\r\n      mainCounterWrapper.textContent = counter;\r\n      mainCostWrapper.textContent = cost;\r\n      // topCost.textContent = cost;\r\n    }\r\n  \r\n    wrappers.forEach(wrapper => {\r\n      mainObj.countersArr[mainObj.countersArr.length] = wrapper.querySelector('.js-count');\r\n      mainObj.costsArr[mainObj.costsArr.length] = wrapper.querySelector('.js-cost');\r\n      makeCalc(wrapper);\r\n    });\r\n  \r\n    calcAll();\r\n  }\r\n  function input () {\r\n    const wrappers = document.querySelectorAll('.js-input');\r\n  \r\n    wrappers.forEach(wrapper => {\r\n      const input = wrapper.querySelector('input');\r\n  \r\n      if (input) {\r\n        input.addEventListener('focus', () => {\r\n          wrapper.classList.add('active');\r\n        });\r\n  \r\n        input.addEventListener('blur', () => {\r\n          if (!input.value.length) {\r\n            wrapper.classList.remove('active');\r\n          }\r\n        })\r\n      } \r\n      else {\r\n        const textarea = wrapper.querySelector('textarea');\r\n        textarea.value = textarea.value.trim();\r\n        \r\n        textarea.addEventListener('focus', () => {\r\n          wrapper.classList.add('active');\r\n        });\r\n  \r\n        textarea.addEventListener('blur', () => {\r\n          if (!textarea.value.trim().length) {\r\n            wrapper.classList.remove('active');\r\n          }\r\n        })\r\n      }\r\n  \r\n  \r\n      \r\n    })\r\n  }\r\n  const ancors = () => {\r\n    const links = document.querySelectorAll('.js-ancor-link');\r\n  \r\n    links.forEach((link) => {\r\n      link.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n  \r\n        const elemData = link.getAttribute('href');\r\n        const elem = document.querySelector(`${elemData}`);\r\n        const elemCoords = getCoords(elem);\r\n        const finalCoords = elemCoords.top - 100;\r\n  \r\n        $(\"html, body\").animate({ scrollTop: finalCoords });\r\n      });\r\n    });\r\n  };\r\n  \r\n  const phoneMask = () => {\r\n    $('.js-phone-mask').mask('+7 (000) 000-00-00');\r\n  };\r\n  \r\n  function form () {\r\n      document.getElementById('form').addEventListener('submit', function(event) {\r\n          event.preventDefault();\r\n          setTimeout(() => {\r\n              if (!document.querySelector('.parsley-errors-list li')) {\r\n                  NKH.order = parseFloat(NKH.order.replace(/\\s+/g, ''))\r\n                  let ask = document.querySelector('.js-title-footer').textContent.trim() === 'Обратная связь';\r\n                  $.post(\r\n                      'send.php', // адрес обработчика\r\n                      $(\"#form\").serialize(), // отправляемые данные          \r\n                      \r\n                      function(msg) { // получен ответ сервера \r\n                          document.querySelector('.popup-footer').classList.add('active');\r\n                          NKH.body.classList.add('fixed');\r\n          \r\n                          if (ask) {\r\n                              var goalParams = {\r\n                                  order_price: NKH.order,\r\n                                  currency: \"RUB\",\r\n                              }\r\n          \r\n                              \r\n                              ym(65567878,'reachGoal','send_form_without_calculator', goalParams);\r\n          \r\n                              gtag('event', 'generate_lead', {\r\n                                  'event_label': 'send_form_without_calculator',\r\n                                  'value': NKH.order\r\n                              });\r\n          \r\n                          }\r\n                          else {\r\n                              var goalParams = {\r\n                                  order_price: NKH.order,\r\n                                  currency: \"RUB\",\r\n                              }\r\n          \r\n                              ym(65567878,'reachGoal','send_form_with_calculator', goalParams)\r\n                          \r\n                              gtag('event', 'generate_lead', {\r\n                                  'event_label': 'send_form_with_calculator',\r\n                                  'value': NKH.order\r\n                              });\r\n                          }   \r\n                      }\r\n                  );\r\n                  return false;\r\n              }\r\n          }, 500)\r\n      });\r\n  }\r\n  function addFile () {\r\n    let item = document.querySelector('.js-file'),\r\n        input = item.querySelector('input'),\r\n        span = item.querySelector('span');\r\n  \r\n    item.addEventListener('change', event => {\r\n      if (event.srcElement.files.length === 0) {\r\n        span.textContent = 'Добавить файл'\r\n      }\r\n      else if (event.srcElement.files.length === 1) {\r\n        span.textContent = event.srcElement.files[0].name;\r\n      }\r\n      else {\r\n        span.textContent = `Вы добавили ${event.srcElement.files.length} файлов`\r\n      }\r\n    })\r\n  }\r\n  function popupPhoto () {\r\n    const itemsSlider = document.querySelectorAll('.js-show-scale'),\r\n          itemsAccordion = document.querySelectorAll('.js-show-accordion'),\r\n          popup = document.querySelector('.js-popup-scale'),\r\n          imgPopup = popup.querySelector('img'),\r\n          textPopup = popup.querySelector('span');\r\n  \r\n    itemsSlider.forEach(item => {\r\n      const img = item.querySelector('img'),\r\n            text = item.querySelector('.js-text');\r\n  \r\n      \r\n      showPopup(img, img.src, text);\r\n    })\r\n  \r\n    itemsAccordion.forEach(item => {\r\n      if (!item.classList.contains('disabled')) {\r\n        showPopup(item, item.dataset.img, false)\r\n      }\r\n    })\r\n  \r\n    function showPopup (btn, src, text) {\r\n      btn.addEventListener('click', event => {\r\n        imgPopup.src = src;\r\n        if (text) {\r\n          textPopup.textContent = text.textContent;\r\n        }\r\n        else {\r\n          textPopup.textContent = '';   \r\n        }\r\n  \r\n        popup.classList.add('active');\r\n        NKH.body.classList.add('fixed');\r\n      })\r\n    }\r\n  \r\n    popup.addEventListener('click', event => {\r\n      popup.classList.remove('active');\r\n      NKH.body.classList.remove('fixed');\r\n    })\r\n  }\r\n  function popup () {\r\n    let popup = document.querySelectorAll('.js-popup');\r\n  \r\n    popup.forEach(item => {\r\n      item.addEventListener('click', event => {\r\n        if (event.target.closest('.js-close') || !event.target.closest('.popup__wrapper')) {\r\n          item.classList.remove('active');\r\n          NKH.body.classList.remove('fixed');\r\n        }\r\n      });\r\n    });\r\n  }\r\n  function showArrow () {\r\n    const line = document.getElementById('why'),\r\n          arrow = document.querySelector('.js-arrow-up');\r\n  \r\n    window.addEventListener('scroll', event => {\r\n  \r\n      if (line.offsetTop < window.pageYOffset + 200) {\r\n        arrow.classList.add('active');\r\n      }\r\n      else {\r\n        arrow.classList.remove('active');\r\n      }\r\n    })\r\n  }\r\n  function jsSeveral () {\r\n    const items = document.querySelectorAll('.js-only-several>input');\r\n  \r\n    let name = items[0].dataset.name,\r\n        i = 0;\r\n  \r\n    items.forEach((item, j) => {\r\n      i++;\r\n      \r\n      if (item.dataset.name !== name) {\r\n        i = 0;\r\n        name = item.dataset.name;\r\n      }\r\n      \r\n      if (i !== 0 && j !== 0) {\r\n        item.closest('label').style.display = 'none';\r\n      }\r\n    })\r\n  }\r\n  function changeColor () {\r\n    let item = document.querySelector('.js-change-color'),\r\n        line = document.querySelector('.js-check-line');\r\n  \r\n    function checkLine () {\r\n      if (line.clientHeight - item.clientHeight === item.offsetTop) {\r\n        item.classList.add('active');\r\n      }\r\n      else {\r\n        item.classList.remove('active');\r\n      }\r\n    }\r\n  \r\n    document.addEventListener('scroll', checkLine);\r\n  \r\n    checkLine();\r\n  }\r\n  function accordionPopup () {\r\n    let wrappers = document.querySelectorAll('.js-popup-wrapper');\r\n  \r\n    wrappers.forEach(wrapper => {\r\n      wrapper.addEventListener('mouseenter', event => {\r\n        let item = wrapper.querySelector('.js-popup');\r\n        \r\n        if (event.screenY - 150 < item.offsetHeight) {\r\n          wrapper.classList.add('down');\r\n        }\r\n        else {\r\n          wrapper.classList.remove('down');\r\n        }\r\n      })\r\n    })\r\n  };\r\n  const headerScroll = () => {\r\n    window.addEventListener('scroll', (e) => {\r\n      const scrollTop = window.pageYOffset;\r\n      const isActive = scrollTop > 50;\r\n      const header = document.querySelector('.js-page-header');\r\n  \r\n      if(isActive){\r\n        header.classList.add('fixed');\r\n      }else{\r\n        header.classList.remove('fixed');\r\n      }\r\n    });\r\n  };\r\n  \r\n  const parallax = () => {\r\n    var p = new Parallax('.parallax').init()\r\n  };\r\n  \r\n  const tabs = () => {\r\n  \tconst btns = document.querySelectorAll('[data-tabclass]');\r\n  \r\n    btns.forEach((btn) => {\r\n      btn.addEventListener('click', () => {\r\n        const contentData = btn.getAttribute('data-tabclass');\r\n        const btnNumberData = btn.getAttribute('data-tabnumber');\r\n        const contentNodes = document.querySelectorAll(`.${contentData}`);\r\n        const btnSiblings = getSiblings(btn);\r\n  \r\n        // toggle btn class\r\n        btnSiblings.forEach((btnSibling) => {\r\n          btnSibling.classList.remove('active');\r\n        });\r\n  \r\n        btn.classList.add('active');\r\n  \r\n        // toggle contentNodes\r\n        contentNodes.forEach((contentNode) => {\r\n          const items = Array.from(contentNode.children);\r\n  \r\n          items.forEach((item) => {\r\n            const itemNumberData = item.getAttribute('data-tabnumber');\r\n            const isNumberEqual = itemNumberData == btnNumberData;\r\n  \r\n            if(isNumberEqual) {\r\n              const siblings = getSiblings(item);\r\n  \r\n              siblings.forEach((sibling) => {\r\n                sibling.classList.remove('active');\r\n              });\r\n  \r\n              item.classList.add('active');\r\n            }\r\n          });\r\n        });\r\n      });\r\n    });\r\n  };\r\n  \r\n  const wow = () => {\r\n      const wowInit = new WOW(\r\n      {\r\n        boxClass: 'wow',\r\n        animateClass: 'animated',\r\n        offset: 0,\r\n        mobile: false,\r\n        live: true,\r\n      }\r\n    );\r\n  \r\n    wowInit.init();\r\n  };\r\n  \r\n  const NKH = {};\r\n  NKH.body = document.querySelector('body');\r\n  NKH.ESC_CODE = 27;\r\n  NKH.siteContent = document.querySelector('.site-content');\r\n  NKH.footer = document.querySelector('.page-footer');\r\n  NKH.isIe11 = !!window.MSInputMethodContext && !!document.documentMode;\r\n  \r\n  \r\n  if(NKH.isIe11){\r\n    NKH.body.classList.add('ie11');\r\n  }\r\n  \r\n  var getSiblings = function (elem) {\r\n    var siblings = [];\r\n    var sibling = elem.parentNode.firstChild;\r\n  \r\n    while (sibling) {\r\n      if (sibling.nodeType === 1 && sibling !== elem) {\r\n        siblings.push(sibling);\r\n      }\r\n      sibling = sibling.nextSibling\r\n    }\r\n  \r\n    return siblings;\r\n  \r\n  };\r\n  \r\n  function top_walker (node, test_func, last_parent) {\r\n  \twhile ( node && node !== last_parent ) {\r\n  \t\tif ( test_func(node) ) {\r\n  \t\t\treturn node;\r\n  \t\t}\r\n  \t\tnode = node.parentNode;\r\n  \t}\r\n  }\r\n  \r\n  function getCoords(elem) {\r\n    let box = elem.getBoundingClientRect();\r\n  \r\n    return {\r\n      top: box.top + pageYOffset,\r\n      left: box.left + pageXOffset\r\n    };\r\n  }\r\n  \r\n  const onPageRdy = () => {\r\n    tabs();\r\n  \r\n    // specific\r\n    ancors();\r\n  };\r\n  \r\n  onPageRdy();\r\n  \r\n});\r\n"]}